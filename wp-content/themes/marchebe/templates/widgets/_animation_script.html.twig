
<script>
(function() {
  let observer = null;

  function initAnimations() {
    const animatedElements = document.querySelectorAll('.fade-in-up');

    observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('is-visible');
          observer.unobserve(entry.target); // Optional: stop observing once animated
        }
      });
    }, {
      threshold: 0.1 // Trigger when 10% of the element is visible
    });

    animatedElements.forEach(el => {
      observer.observe(el);
    });
  }

  function cleanup() {
    if (observer) {
      observer.disconnect();
    }
  }

  // Initialize when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initAnimations);
  } else {
    initAnimations();
  }

  // Cleanup on page unload
  window.addEventListener('beforeunload', cleanup);
})();
</script>