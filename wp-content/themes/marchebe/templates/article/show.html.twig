<div class="bg-slate-50 ">
    <!-- HERO HEADER SECTION -->
    {% include '@AcMarche/article/_header.html.twig' %}
    <!-- MAIN CONTENT SECTION -->
    <main class="relative z-20 -mt-16 md:-mt-24">
        <article class="max-w-3xl md:max-w-5xl mx-auto bg-white rounded-xl shadow-2xl p-6 sm:p-10 md:p-12 mb-3">
            {% include '@AcMarche/widgets/_breadcrumbs.html.twig' %}
            {% include '@AcMarche/article/_tags.html.twig' %}
            {% include '@AcMarche/article/_title.html.twig' %}
            {% include '@AcMarche/article/_share_and_listen.html.twig' %}
            {% include '@AcMarche/article/_body.html.twig' %}
            {% include '@AcMarche/article/_tags.html.twig' %}
        </article>
        {% include '@AcMarche/article/_see_also.html.twig' %}
    </main>
</div>
<script>
(function() {
  let observer = null;

  function initAnimations() {
    const animatedElements = document.querySelectorAll('.fade-in-up');

    observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('is-visible');
          observer.unobserve(entry.target); // Optional: stop observing once animated
        }
      });
    }, {
      threshold: 0.1 // Trigger when 10% of the element is visible
    });

    animatedElements.forEach(el => {
      observer.observe(el);
    });
  }

  function cleanup() {
    if (observer) {
      observer.disconnect();
    }
  }

  // Initialize when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initAnimations);
  } else {
    initAnimations();
  }

  // Cleanup on page unload
  window.addEventListener('beforeunload', cleanup);
})();
</script>